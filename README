Building Unix Squeak from a source archive
==========================================

Executive summary
-----------------

  tar -xf <archive>.tar.gz
  cd <archive>
  mkdir bld
  cd bld
  ../unix/cmake/configure
  make

Detailed instructions
---------------------

1 Unpack the sources.
 
    tar -xf Squeak-X.Y.Z.R-srca.tar.gz
 
  This will create a directory called 'Squeak-X.Y.Z.R-src'.  Descend into it with
  'cd Squeak-X.Y.Z.R-src'.

2 You can use the supplied interpreter sources in 'unix/src' or you
  can generate your own.  If you generate your own then I recommend
  you place then in a directory next to 'unix/src' and call them
  something else, 'unix/vmm' for example.

3 Create a build directory.  This can be anywhere you want.  In this
  README we will 'mkdir bld' to create the build directory in
  'Squeak-X.Y.Z.R-src', next to the 'unix' and 'Cross' directories.

  Building directly in the source tree (starting in unix) should work
  but is UNTESTED and UNSUPPORTED and discrouraged by CMake people
  too.

4 Descend into your build directory.  'cd bld'.

5 Configure your build: '../unix/cmake/configure'.  (You can pass
  arguments to this script; run 'cmake/configure --help' to see a list
  of them.)

6 Build it: just type 'make', sit back, and enjoy the pretty colours
  (assuming your terminal supports them).  This should leave you with
  an executable called 'squeak' in your build directory.

7 You can test the binary in-place by running 'squeak' with a path to
  an image file as argument; e.g: ./squeak ../../squeak.image

8 If it works, install it by typing 'make install' in your build
  directory.

9 If you modify the sources you can safely type 'make' in the build
  directory and everything affected will be rebuilt.  If you want to
  reconfigure and rebuild only affected files, type 'cmake .' and then
  'make'.  If you want to rebuild everything type 'make clean' and
  then 'make'.  If you want to reconfigure everything and then rebuild
  everything just delete your build directory and start again from
  step 3.

----
Last edited: 2009-08-30 23:55:32 by piumarta on ubuntu.piumarta.com
